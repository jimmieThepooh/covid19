@{
    /**/

    ViewBag.Title = "Intro";
    Layout = "~/Views/Shared/_PublicLayout.cshtml";
}
<style>

    #covid-form {
      color: #1d374a;
        font-size: 18px;
     background-image: url(@Url.Content("~/images/girl_symp.png"));
        background-position: center 200%;
        background-repeat: no-repeat;
        height: 100%;
        padding:30px;
    }    
        
</style>

<div id="covid-form" class="container">
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="text-center"><label>คำแนะนำการกรอกข้อมูล</label></h3>
                    <ol>
                        <li>พนักงาน ที่เดินทางไปยัง หรือแวะผ่าน (Transit) ประเทศที่มีการระบาด<u>หลังวันที่ 1 กุมภาพันธ์ 2563</u> ได้แก่ จีน มาเก๊า ฮ่องกง ไต้หวัน เกาหลีใต้ สิงคโปร์ ญี่ปุ่น เวียดนาม มาเลเซีย อิตาลี อิหร่าน เยอรมนี และฝรั่งเศส หากเดินทางกลับมาถึงประเทศไทย ให้พนักงานผู้นั้นปฏิบัติงานที่บ้าน (Work at home) เป็นเวลา 14 วัน รวมถึงวันหยุด และเข้ามารายงานผลทุกวันจนครบ 14 วัน</li>
                        <li>หากมีบุคคลใกล้ชิดของพนักงาน (เช่น อาศัยอยู่ในบ้านเดียวกัน) เดินทางไปในประเทศตามข้อ 1  ให้พนักงานผู้นั้นปฏิบัติงานที่บ้าน (Work at home) เป็นเวลา 14 วัน รวมถึงวันหยุด และเข้ามารายงานผลทุกวันจนครบ 14 วัน นับแต่วันที่คนใกล้ชิดเดินทางกลับมาถึงประเทศไทย</li>
                        <li>พนักงานที่เดินทางกลับจากประเทศหรือเขตการปกครองนอกเหนือจาก 1. หากไม่มีอาการไข้ร่วมกับระบบทางเดินหายใจ เช่น ไอ มีน้ำมูก หายใจเหนื่อย เป็นต้น ให้มาปฏิบัติงานตามปกติ โดยใน 14 วันนับแต่วันเดินทางกลับมาถึงประเทศไทย</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
    <br /><br />
    <div class="row">
        <div class="col-md-12 text-center">
            @*<a class="btn btn-danger btn-lg" href="@Url.Action("Form")?mode=@ViewBag.MODE&id=@ViewBag.EMP_ID">ตนเองหรือผู้ใกล้ชิดเคยเดินทางไปต่างประเทศ</a><br /><br />*@
            @*<button class="btn btn-success btn-lg" id="NoTravelBtn" type="button">ไม่เคยเดินทางไปต่างประเทศ</button>*@
            <h3><b>ตนเองหรือผู้ใกล้ชิด</b></h3>
            <div class="row">
                <div class="col-md-offset-2 col-md-4  col-lg-offset-3 col-lg-3">
                    <a class="btn btn-group-lg btn-lg add-red-hover" href="@Url.Action("Form")?id=@ViewBag.PERSON_ID" style="width:100%; color: #1d374a; background-color:#ffaa39; background-image:url(@Url.Content("~/images/covid-bg.png"));">
                        <i class="fa fa-3x fa-plane"></i><br /><b style="font-size:22px">เคย</b>เดินทางไปต่างประเทศ
                    </a>
                    <br />
                    <br />
                </div>
                <div class=" col-md-4  col-lg-3">
                    <a href="#" class="btn btn-group-lg btn-lg add-green-hover" id="NoTravelBtn" style="width:100%; color:#1d374a; background-color:#d9effc; background-image:url(@Url.Content("~/images/covid-bg.png"));">
                        <i class="fa fa-3x fa-home"></i>
                        <br /><b style="font-size:22px">ไม่เคย</b>เดินทางไปต่างประเทศ
                    </a>
                </div>
            </div>
        </div>
        <br />
    </div>

    <div class="hr-line-dashed"></div>
    <div class="row">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-default" onclick="window.location.href='@Url.Action("Index", "RptCovid19Ex")'">ย้อนกลับ</button>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="thankyouModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel"></h4>
            </div>
            <div class="modal-body text-center">
                <div class="row">
                    <div class="col-md-12">
                        <img src="~/images/thankyou.png" width="250" />
                        <h3>ขอบพระคุณที่รายงานประจำวันที่ <span id="dateText"></span> ค่ะ</h3>
                    </div>
                    <div class="col-md-12" style="margin-top:20px;">
                        <h4>
                            <a href="https://gisanddata.maps.arcgis.com/apps/opsdashboard/index.html?fbclid=IwAR3N4yDgHED_DoRb2Gii32S9dBnxN93fciyUewG6JjcrbwHjwgs2jLg9CWE#/bda7594740fd40299423467b48e9ecf6" style="text-decoration:underline;" target="_blank">ติดตามสถานการณ์ล่าสุด</a>
                        </h4>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="closeBtn" type="button" class="btn btn-primary">ปิด</button>
            </div>
        </div>
    </div>
</div>


@section scripts {
    <script type="text/javascript">
        $(function () {

            $("#closeBtn").on('click', function () {
                window.location.href = "@Url.Action("Index")";
            });

            $("#NoTravelBtn").on('click', function () {

                $.ajax({
                    url: "@Url.Action("IntroUpdate", "RptCovid19Ex")",
                    type: "POST",
                    data: { id: '@ViewBag.PERSON_ID'},
                    success: function (result) {
                        globalFunction.hideLoading("submit");
                        if (result.success == true) {
                            $("#dateText").text(result.date);
                            $("#thankyouModal").modal('show');
                        } else {
                            if (result.code == -1) {
                                globalFunction.alert({
                                    message: "Session หมดอายุ กรุณาเข้าสู่ระบบอีกครั้ง",
                                    callback: function () {
                                        window.location.href = "@Url.Action("Login","Home")";
                                    },
                                });
                            } else if (result.code == 1) {
                                globalFunction.alert({ type: "error", message: result.message });
                            } else {
                                globalFunction.alert({ type: "error", message: "เกิดข้อผิดพลาด" });
                            }
                        }
                    },
                    error: function (e) {
                        globalFunction.hideLoading("submit");
                        globalFunction.alert({ type: "error", message: "เกิดข้อผิดพลาด" });
                    }
                });

            });


        });
    </script>
}
